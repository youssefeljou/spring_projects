2024-12-27 00:11:19,878 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.example.book.JpaLibraryProject1ApplicationTests]: JpaLibraryProject1ApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-12-27 00:11:20,388 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.example.book.JpaLibraryProject1Application for test class com.example.book.JpaLibraryProject1ApplicationTests
2024-12-27 00:13:26,577 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.example.book.JpaLibraryProject1ApplicationTests]: JpaLibraryProject1ApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-12-27 00:13:26,962 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.example.book.JpaLibraryProject1Application for test class com.example.book.JpaLibraryProject1ApplicationTests
2024-12-27 00:17:05,330 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.example.book.JpaLibraryProject1ApplicationTests]: JpaLibraryProject1ApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-12-27 00:17:07,528 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.example.book.JpaLibraryProject1Application for test class com.example.book.JpaLibraryProject1ApplicationTests
2024-12-27 00:17:14,769 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-12-27 00:17:15,586 INFO o.s.b.StartupInfoLogger [main] Starting JpaLibraryProject1ApplicationTests using Java 21.0.4 with PID 20108 (started by youss in D:\Spring_projects\Library_management_backend\jpa-library-project)
2024-12-27 00:17:15,588 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-12-27 00:17:20,553 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-27 00:17:20,591 DEBUG o.s.d.r.c.RepositoryConfigurationDelegate [main] Scanning for JPA repositories in packages com.example.book.
2024-12-27 00:17:20,634 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\AutherRepo.class]
2024-12-27 00:17:20,637 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\BookRepo.class]
2024-12-27 00:17:20,739 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 145 ms. Found 2 JPA repository interfaces.
2024-12-27 00:17:33,940 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-12-27 00:17:35,253 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6c56fff
2024-12-27 00:17:35,256 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-12-27 00:17:35,420 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book?createDatabaseIfNotExist=true (MySQL 8.0)
2024-12-27 00:17:35,657 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.097s)
2024-12-27 00:17:35,704 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema `book`: 2
2024-12-27 00:17:35,705 WARN o.f.c.i.l.s.Slf4jLog [main] Schema `book` has a version (2) that is newer than the latest available migration (1) !
2024-12-27 00:17:35,730 INFO o.f.c.i.l.s.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2024-12-27 00:17:36,086 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-27 00:17:36,337 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-27 00:17:36,429 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2024-12-27 00:17:37,053 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-27 00:17:37,178 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-27 00:17:37,181 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-12-27 00:17:37,205 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-27 00:17:39,089 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-27 00:17:39,232 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 00:17:39,728 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Initializing JpaMetamodelMappingContext…
2024-12-27 00:17:39,764 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Finished initializing JpaMetamodelMappingContext
2024-12-27 00:17:40,099 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.AutherRepo…
2024-12-27 00:17:40,475 DEBUG o.s.d.j.r.q.NamedQuery [main] Looking up named query Auther.findByEmail
2024-12-27 00:17:40,484 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Auther.findByEmail
2024-12-27 00:17:40,610 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.AutherRepo.
2024-12-27 00:17:40,784 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.BookRepo…
2024-12-27 00:17:40,796 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Book.deleteByAutherId.count
2024-12-27 00:17:40,825 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-27 00:17:41,487 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.BookRepo.
2024-12-27 00:17:42,763 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-27 00:17:45,869 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 16 endpoints beneath base path '/actuator'
2024-12-27 00:17:46,050 INFO o.s.b.StartupInfoLogger [main] Started JpaLibraryProject1ApplicationTests in 35.704 seconds (process running for 44.304)
2024-12-27 00:17:46,348 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findAll()
2024-12-27 00:17:46,393 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherRepo.findAll()
2024-12-27 00:17:46,904 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        b1_0.auther_id,
        b1_0.id,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status,
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status 
    from
        authers a1_0 
    left join
        books b1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 00:17:47,080 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> BookRepo.findAll()
2024-12-27 00:17:47,091 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 00:17:47,326 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-1] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 00:17:47,326 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-2] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 00:17:49,859 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findByEmail(..)
2024-12-27 00:17:49,860 INFO c.e.b.a.LoggingAspect [main] ===> argument >> youssefeljou@gmail.com
2024-12-27 00:17:49,864 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherRepo.findByEmail(..)
2024-12-27 00:17:49,864 INFO c.e.b.a.LoggingAspect [main] ===> argument >> youssefeljou@gmail.com
2024-12-27 00:17:49,972 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status 
    from
        authers a1_0 
    where
        a1_0.email=?
2024-12-27 00:17:50,086 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 00:17:50,092 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-12-27 00:17:50,118 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-12-27 00:36:35,193 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.example.book.repository.AutherRepoTest]: AutherRepoTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-12-27 00:36:35,753 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.example.book.JpaLibraryProject1Application for test class com.example.book.repository.AutherRepoTest
2024-12-27 00:36:37,111 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-12-27 00:36:37,198 INFO o.s.b.StartupInfoLogger [main] Starting AutherRepoTest using Java 21.0.4 with PID 12528 (started by youss in D:\Spring_projects\Library_management_backend\jpa-library-project)
2024-12-27 00:36:37,202 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-12-27 00:36:40,619 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-27 00:36:40,655 DEBUG o.s.d.r.c.RepositoryConfigurationDelegate [main] Scanning for JPA repositories in packages com.example.book.
2024-12-27 00:36:40,697 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\AutherRepo.class]
2024-12-27 00:36:40,700 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\BookRepo.class]
2024-12-27 00:36:40,816 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 156 ms. Found 2 JPA repository interfaces.
2024-12-27 00:36:43,201 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-12-27 00:36:44,264 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@62de20d3
2024-12-27 00:36:44,273 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-12-27 00:36:44,485 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book?createDatabaseIfNotExist=true (MySQL 8.0)
2024-12-27 00:36:44,731 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.094s)
2024-12-27 00:36:44,774 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema `book`: 2
2024-12-27 00:36:44,776 WARN o.f.c.i.l.s.Slf4jLog [main] Schema `book` has a version (2) that is newer than the latest available migration (1) !
2024-12-27 00:36:44,788 INFO o.f.c.i.l.s.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2024-12-27 00:36:45,196 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-27 00:36:45,436 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-27 00:36:45,628 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2024-12-27 00:36:46,428 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-27 00:36:46,594 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-27 00:36:46,597 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-12-27 00:36:46,639 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-27 00:36:48,991 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-27 00:36:49,169 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 00:36:49,705 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Initializing JpaMetamodelMappingContext…
2024-12-27 00:36:49,743 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Finished initializing JpaMetamodelMappingContext
2024-12-27 00:36:50,094 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.AutherRepo…
2024-12-27 00:36:50,253 DEBUG o.s.d.j.r.q.NamedQuery [main] Looking up named query Auther.findByEmail
2024-12-27 00:36:50,260 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Auther.findByEmail
2024-12-27 00:36:50,372 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.AutherRepo.
2024-12-27 00:36:50,575 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.BookRepo…
2024-12-27 00:36:50,590 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Book.deleteByAutherId.count
2024-12-27 00:36:50,621 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-27 00:36:51,351 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.BookRepo.
2024-12-27 00:36:52,741 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-27 00:36:56,679 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 16 endpoints beneath base path '/actuator'
2024-12-27 00:36:56,921 INFO o.s.b.StartupInfoLogger [main] Started AutherRepoTest in 20.637 seconds (process running for 26.126)
2024-12-27 00:36:57,229 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findAll()
2024-12-27 00:36:57,238 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherRepo.findAll()
2024-12-27 00:36:57,423 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        b1_0.auther_id,
        b1_0.id,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status,
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status 
    from
        authers a1_0 
    left join
        books b1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 00:36:57,548 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> BookRepo.findAll()
2024-12-27 00:36:57,556 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 00:36:58,285 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-2] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 00:36:58,286 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-1] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 00:36:59,298 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherRepo.findByEmail(..)
2024-12-27 00:36:59,298 INFO c.e.b.a.LoggingAspect [main] ===> argument >> youssefeljou@gmail.com
2024-12-27 00:36:59,395 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status 
    from
        authers a1_0 
    where
        a1_0.email=?
2024-12-27 00:36:59,477 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 00:36:59,484 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-12-27 00:36:59,511 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-12-27 14:39:26,932 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.example.book.JpaLibraryProject1ApplicationTests]: JpaLibraryProject1ApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-12-27 14:39:27,396 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.example.book.JpaLibraryProject1Application for test class com.example.book.JpaLibraryProject1ApplicationTests
2024-12-27 14:39:28,406 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-12-27 14:39:28,552 INFO o.s.b.StartupInfoLogger [main] Starting JpaLibraryProject1ApplicationTests using Java 21.0.4 with PID 18148 (started by youss in D:\Spring_projects\Library_management_backend\jpa-library-project)
2024-12-27 14:39:28,556 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-12-27 14:39:32,405 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-27 14:39:32,452 DEBUG o.s.d.r.c.RepositoryConfigurationDelegate [main] Scanning for JPA repositories in packages com.example.book.
2024-12-27 14:39:32,497 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\AutherRepo.class]
2024-12-27 14:39:32,500 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\BookRepo.class]
2024-12-27 14:39:32,606 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 150 ms. Found 2 JPA repository interfaces.
2024-12-27 14:39:41,278 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-12-27 14:39:46,950 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@28d56028
2024-12-27 14:39:46,957 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-12-27 14:39:47,173 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book?createDatabaseIfNotExist=true (MySQL 8.0)
2024-12-27 14:39:47,467 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.132s)
2024-12-27 14:39:47,517 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema `book`: 2
2024-12-27 14:39:47,522 WARN o.f.c.i.l.s.Slf4jLog [main] Schema `book` has a version (2) that is newer than the latest available migration (1) !
2024-12-27 14:39:47,533 INFO o.f.c.i.l.s.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2024-12-27 14:39:47,910 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-27 14:39:48,090 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-27 14:39:48,224 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2024-12-27 14:39:48,893 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-27 14:39:49,055 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-27 14:39:49,058 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-12-27 14:39:49,086 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-27 14:39:51,441 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-27 14:39:51,666 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 14:39:52,159 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Initializing JpaMetamodelMappingContext…
2024-12-27 14:39:52,197 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Finished initializing JpaMetamodelMappingContext
2024-12-27 14:39:52,544 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.AutherRepo…
2024-12-27 14:39:52,689 DEBUG o.s.d.j.r.q.NamedQuery [main] Looking up named query Auther.findByEmail
2024-12-27 14:39:52,694 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Auther.findByEmail
2024-12-27 14:39:52,819 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.AutherRepo.
2024-12-27 14:39:53,019 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.BookRepo…
2024-12-27 14:39:53,038 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Book.deleteByAutherId.count
2024-12-27 14:39:53,069 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-27 14:39:53,863 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.BookRepo.
2024-12-27 14:39:55,441 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-27 14:40:03,884 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 16 endpoints beneath base path '/actuator'
2024-12-27 14:40:04,278 INFO o.s.b.StartupInfoLogger [main] Started JpaLibraryProject1ApplicationTests in 36.468 seconds (process running for 40.698)
2024-12-27 14:40:05,309 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findAll()
2024-12-27 14:40:05,322 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherRepo.findAll()
2024-12-27 14:40:05,965 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-2] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 14:40:05,967 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-1] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 14:40:05,972 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        b1_0.auther_id,
        b1_0.id,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status,
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status 
    from
        authers a1_0 
    left join
        books b1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 14:40:06,498 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> BookRepo.findAll()
2024-12-27 14:40:06,506 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 14:40:09,976 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-2] compute price >> 2024-12-27T14:40:09.970802500
2024-12-27 14:40:09,976 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-1] compute discount >> 2024-12-27T14:40:09.970802500
2024-12-27 14:40:15,687 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 14:40:15,691 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-12-27 14:40:15,928 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-12-27 14:42:07,852 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.example.book.JpaLibraryProject1ApplicationTests]: JpaLibraryProject1ApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-12-27 14:42:08,161 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.example.book.JpaLibraryProject1Application for test class com.example.book.JpaLibraryProject1ApplicationTests
2024-12-27 14:42:09,244 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-12-27 14:42:09,337 INFO o.s.b.StartupInfoLogger [main] Starting JpaLibraryProject1ApplicationTests using Java 21.0.4 with PID 5816 (started by youss in D:\Spring_projects\Library_management_backend\jpa-library-project)
2024-12-27 14:42:09,343 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-12-27 14:42:12,787 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-27 14:42:12,828 DEBUG o.s.d.r.c.RepositoryConfigurationDelegate [main] Scanning for JPA repositories in packages com.example.book.
2024-12-27 14:42:12,881 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\AutherRepo.class]
2024-12-27 14:42:12,883 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\BookRepo.class]
2024-12-27 14:42:12,988 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 155 ms. Found 2 JPA repository interfaces.
2024-12-27 14:42:15,634 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-12-27 14:42:16,430 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@798b36fd
2024-12-27 14:42:16,435 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-12-27 14:42:16,537 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book?createDatabaseIfNotExist=true (MySQL 8.0)
2024-12-27 14:42:16,665 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.064s)
2024-12-27 14:42:16,701 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema `book`: 2
2024-12-27 14:42:16,703 WARN o.f.c.i.l.s.Slf4jLog [main] Schema `book` has a version (2) that is newer than the latest available migration (1) !
2024-12-27 14:42:16,714 INFO o.f.c.i.l.s.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2024-12-27 14:42:17,137 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-27 14:42:17,282 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-27 14:42:17,362 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2024-12-27 14:42:18,061 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-27 14:42:18,199 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-27 14:42:18,203 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-12-27 14:42:18,243 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-27 14:42:20,414 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-27 14:42:20,584 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 14:42:21,270 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Initializing JpaMetamodelMappingContext…
2024-12-27 14:42:21,306 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Finished initializing JpaMetamodelMappingContext
2024-12-27 14:42:21,626 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.AutherRepo…
2024-12-27 14:42:21,738 DEBUG o.s.d.j.r.q.NamedQuery [main] Looking up named query Auther.findByEmail
2024-12-27 14:42:21,745 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Auther.findByEmail
2024-12-27 14:42:21,879 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.AutherRepo.
2024-12-27 14:42:22,081 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.BookRepo…
2024-12-27 14:42:22,095 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Book.deleteByAutherId.count
2024-12-27 14:42:22,123 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-27 14:42:22,813 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.BookRepo.
2024-12-27 14:42:24,094 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-27 14:42:26,797 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 16 endpoints beneath base path '/actuator'
2024-12-27 14:42:27,023 INFO o.s.b.StartupInfoLogger [main] Started JpaLibraryProject1ApplicationTests in 18.478 seconds (process running for 21.327)
2024-12-27 14:42:27,323 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findAll()
2024-12-27 14:42:27,346 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherRepo.findAll()
2024-12-27 14:42:27,569 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        b1_0.auther_id,
        b1_0.id,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status,
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status 
    from
        authers a1_0 
    left join
        books b1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 14:42:27,690 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> BookRepo.findAll()
2024-12-27 14:42:27,697 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 14:42:28,744 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-2] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 14:42:28,746 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-1] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 14:42:30,101 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findByEmail(..)
2024-12-27 14:42:30,104 INFO c.e.b.a.LoggingAspect [main] ===> argument >> eljoker@gmail.com
2024-12-27 14:42:30,108 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherRepo.findByEmail(..)
2024-12-27 14:42:30,109 INFO c.e.b.a.LoggingAspect [main] ===> argument >> eljoker@gmail.com
2024-12-27 14:42:30,324 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status 
    from
        authers a1_0 
    where
        a1_0.email=?
2024-12-27 14:42:30,460 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 14:42:30,466 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-12-27 14:42:30,523 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-12-27 15:07:52,295 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.example.book.service.AutherServiceTest]: AutherServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-12-27 15:07:56,058 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.example.book.JpaLibraryProject1Application for test class com.example.book.service.AutherServiceTest
2024-12-27 15:08:02,646 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-12-27 15:08:03,650 INFO o.s.b.StartupInfoLogger [main] Starting AutherServiceTest using Java 21.0.4 with PID 13488 (started by youss in D:\Spring_projects\Library_management_backend\jpa-library-project)
2024-12-27 15:08:03,655 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-12-27 15:08:16,326 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-27 15:08:16,399 DEBUG o.s.d.r.c.RepositoryConfigurationDelegate [main] Scanning for JPA repositories in packages com.example.book.
2024-12-27 15:08:16,457 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\AutherRepo.class]
2024-12-27 15:08:16,459 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\BookRepo.class]
2024-12-27 15:08:16,573 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 168 ms. Found 2 JPA repository interfaces.
2024-12-27 15:08:17,212 WARN o.s.c.s.AbstractApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: java.lang.IllegalStateException: Failed to introspect Class [com.example.book.config.StartupApp] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@61e4705b]
2024-12-27 15:08:17,381 INFO o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2024-12-27 15:08:17,542 ERROR o.s.b.SpringApplication [main] Application run failed
java.lang.IllegalStateException: Failed to introspect Class [com.example.book.config.StartupApp] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@61e4705b]
	at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:757)
	at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:722)
	at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:707)
	at org.springframework.boot.test.mock.mockito.DefinitionsParser.parse(DefinitionsParser.java:68)
	at org.springframework.boot.test.mock.mockito.MockitoPostProcessor.postProcessBeanFactory(MockitoPostProcessor.java:142)
	at org.springframework.boot.test.mock.mockito.MockitoPostProcessor.postProcessBeanFactory(MockitoPostProcessor.java:135)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:363)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:197)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:791)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:609)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:530)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:758)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:453)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: java.lang.NoClassDefFoundError: AutherServiceTest
	at java.base/java.lang.Class.getDeclaredFields0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3473)
	at java.base/java.lang.Class.getDeclaredFields(Class.java:2542)
	at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:752)
	... 95 common frames omitted
Caused by: java.lang.ClassNotFoundException: AutherServiceTest
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 99 common frames omitted
2024-12-27 15:08:17,606 WARN o.s.t.c.TestContextManager [main] Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.example.book.service.AutherServiceTest@141aba65]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@4afd65fd testClass = com.example.book.service.AutherServiceTest, locations = [], classes = [com.example.book.JpaLibraryProject1Application], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2f9a01c1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3f446bef, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@fc30d69d, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1bc715b8, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4275c20c, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@40258c2f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@659eef7, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@d8821419], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:180)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:530)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:758)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:453)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
Caused by: java.lang.IllegalStateException: Failed to introspect Class [com.example.book.config.StartupApp] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@61e4705b]
	at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:757)
	at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:722)
	at org.springframework.util.ReflectionUtils.doWithFields(ReflectionUtils.java:707)
	at org.springframework.boot.test.mock.mockito.DefinitionsParser.parse(DefinitionsParser.java:68)
	at org.springframework.boot.test.mock.mockito.MockitoPostProcessor.postProcessBeanFactory(MockitoPostProcessor.java:142)
	at org.springframework.boot.test.mock.mockito.MockitoPostProcessor.postProcessBeanFactory(MockitoPostProcessor.java:135)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:363)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:197)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:791)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:609)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:752)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:318)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1461)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:553)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:225)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:152)
	... 74 common frames omitted
Caused by: java.lang.NoClassDefFoundError: AutherServiceTest
	at java.base/java.lang.Class.getDeclaredFields0(Native Method)
	at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3473)
	at java.base/java.lang.Class.getDeclaredFields(Class.java:2542)
	at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:752)
	... 95 common frames omitted
Caused by: java.lang.ClassNotFoundException: AutherServiceTest
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)
	... 99 common frames omitted
2024-12-27 15:08:17,769 WARN o.s.t.c.TestContextManager [main] Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [com.example.book.service.AutherServiceTest@6aad919c]
java.lang.IllegalStateException: ApplicationContext failure threshold (1) exceeded: skipping repeated attempt to load context for [WebMergedContextConfiguration@4afd65fd testClass = com.example.book.service.AutherServiceTest, locations = [], classes = [com.example.book.JpaLibraryProject1Application], contextInitializerClasses = [], activeProfiles = [], propertySourceDescriptors = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2f9a01c1, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3f446bef, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@fc30d69d, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@1bc715b8, org.springframework.boot.test.web.reactor.netty.DisableReactorResourceFactoryGlobalResourcesContextCustomizerFactory$DisableReactorResourceFactoryGlobalResourcesContextCustomizerCustomizer@4275c20c, org.springframework.boot.test.autoconfigure.OnFailureConditionReportContextCustomizerFactory$OnFailureConditionReportContextCustomizer@40258c2f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizer@659eef7, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@0, org.springframework.boot.test.context.SpringBootTestAnnotation@d8821419], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:145)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:130)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:260)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:160)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:378)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:383)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$12(ClassBasedTestDescriptor.java:378)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:184)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1708)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)
	at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)
	at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
	at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:596)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$7(ClassBasedTestDescriptor.java:290)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:289)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:279)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$6(ClassBasedTestDescriptor.java:278)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$1(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:128)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:160)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:146)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:144)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:143)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:100)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:198)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:169)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:93)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:58)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:141)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:57)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:103)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:94)
	at org.junit.platform.launcher.core.DelegatingLauncher.execute(DelegatingLauncher.java:52)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:70)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestReference.run(JUnit5TestReference.java:100)
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:40)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:530)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:758)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:453)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:211)
2024-12-27 15:20:15,380 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.example.book.service.AutherServiceTest]: AutherServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-12-27 15:20:15,859 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.example.book.JpaLibraryProject1Application for test class com.example.book.service.AutherServiceTest
2024-12-27 15:20:16,766 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-12-27 15:20:16,866 INFO o.s.b.StartupInfoLogger [main] Starting AutherServiceTest using Java 21.0.4 with PID 9272 (started by youss in D:\Spring_projects\Library_management_backend\jpa-library-project)
2024-12-27 15:20:16,870 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-12-27 15:20:20,655 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-27 15:20:20,697 DEBUG o.s.d.r.c.RepositoryConfigurationDelegate [main] Scanning for JPA repositories in packages com.example.book.
2024-12-27 15:20:20,735 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\AutherRepo.class]
2024-12-27 15:20:20,738 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\BookRepo.class]
2024-12-27 15:20:20,855 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 155 ms. Found 2 JPA repository interfaces.
2024-12-27 15:20:27,842 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-12-27 15:20:29,162 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@24e79a4d
2024-12-27 15:20:29,168 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-12-27 15:20:29,439 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book?createDatabaseIfNotExist=true (MySQL 8.0)
2024-12-27 15:20:29,735 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.117s)
2024-12-27 15:20:29,807 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema `book`: 2
2024-12-27 15:20:29,814 WARN o.f.c.i.l.s.Slf4jLog [main] Schema `book` has a version (2) that is newer than the latest available migration (1) !
2024-12-27 15:20:29,833 INFO o.f.c.i.l.s.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2024-12-27 15:20:30,454 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-27 15:20:30,682 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-27 15:20:30,801 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2024-12-27 15:20:31,147 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-27 15:20:31,276 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-27 15:20:31,280 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-12-27 15:20:31,322 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-27 15:20:33,311 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-27 15:20:33,446 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 15:20:34,190 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Initializing JpaMetamodelMappingContext…
2024-12-27 15:20:34,309 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Finished initializing JpaMetamodelMappingContext
2024-12-27 15:20:34,687 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.BookRepo…
2024-12-27 15:20:34,859 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Book.deleteByAutherId.count
2024-12-27 15:20:34,910 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-27 15:20:35,793 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.BookRepo.
2024-12-27 15:20:39,292 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-27 15:20:42,988 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 16 endpoints beneath base path '/actuator'
2024-12-27 15:20:43,248 INFO o.s.b.StartupInfoLogger [main] Started AutherServiceTest in 27.012 seconds (process running for 30.602)
2024-12-27 15:20:43,542 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findAll()
2024-12-27 15:20:43,572 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.insertAll(..)
2024-12-27 15:20:43,573 INFO c.e.b.a.LoggingAspect [main] ===> argument >> [com.example.book.entity.Auther@e64ee56, com.example.book.entity.Auther@6456fcc4, com.example.book.entity.Auther@3de7e572]
2024-12-27 15:20:43,580 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> BookRepo.findAll()
2024-12-27 15:20:44,044 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 15:20:44,269 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findByEmail(..)
2024-12-27 15:20:44,271 INFO c.e.b.a.LoggingAspect [main] ===> argument >> eljoker@gmail.com
2024-12-27 15:20:44,410 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findByEmail(..)
2024-12-27 15:20:44,412 INFO c.e.b.a.LoggingAspect [main] ===> argument >> email@gmail
2024-12-27 15:20:44,466 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 15:20:44,471 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-12-27 15:20:44,526 ERROR o.s.a.i.SimpleAsyncUncaughtExceptionHandler [ThreadPoolTaskExecutor-1] Unexpected exception occurred invoking async method: public void com.example.book.service.PriceSchedule.computePrice() throws java.lang.InterruptedException
org.springframework.transaction.CannotCreateTransactionException: Could not open JDBC Connection for transaction
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:313)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:532)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:405)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:137)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.updateRecord(JdbcTemplateStorageAccessor.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:91)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:216)
	at jdk.proxy2/jdk.proxy2.$Proxy183.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLException: HikariDataSource HikariDataSource (HikariPool-1) has been closed.
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:95)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doBegin(DataSourceTransactionManager.java:269)
	... 22 common frames omitted
2024-12-27 15:20:44,562 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-12-27 15:20:44,563 WARN c.z.h.p.ProxyConnection [ThreadPoolTaskExecutor-2] HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@4b42167b marked as broken because of SQLSTATE(08003), ErrorCode(0)
java.sql.SQLNonTransientConnectionException: No operations allowed after connection closed.
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:102)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:89)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:81)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:55)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:65)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64)
	at com.mysql.cj.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:1974)
	at com.zaxxer.hikari.pool.ProxyConnection.rollback(ProxyConnection.java:386)
	at com.zaxxer.hikari.pool.HikariProxyConnection.rollback(HikariProxyConnection.java)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doRollback(DataSourceTransactionManager.java:352)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processRollback(AbstractPlatformTransactionManager.java:897)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.rollback(AbstractPlatformTransactionManager.java:866)
	at org.springframework.transaction.support.TransactionTemplate.rollbackOnException(TransactionTemplate.java:168)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:144)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:216)
	at jdk.proxy2/jdk.proxy2.$Proxy183.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.mysql.cj.exceptions.ConnectionIsClosedException: No operations allowed after connection closed.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:52)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:95)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:140)
	at com.mysql.cj.NativeSession.checkClosed(NativeSession.java:929)
	at com.mysql.cj.jdbc.ConnectionImpl.checkClosed(ConnectionImpl.java:565)
	at com.mysql.cj.jdbc.ConnectionImpl.rollback(ConnectionImpl.java:1925)
	... 26 common frames omitted
2024-12-27 15:20:44,565 ERROR o.s.t.s.TransactionTemplate [ThreadPoolTaskExecutor-2] Application exception overridden by rollback exception
org.springframework.dao.DuplicateKeyException: PreparedStatementCallback; SQL [INSERT INTO shedlock(name, lock_until, locked_at, locked_by) VALUES(?, TIMESTAMPADD(MICROSECOND, ?, UTC_TIMESTAMP(3)), UTC_TIMESTAMP(3), ?)]; Duplicate entry 'bookComputeDiscount' for key 'shedlock.PRIMARY'
	at org.springframework.jdbc.support.SQLExceptionSubclassTranslator.doTranslate(SQLExceptionSubclassTranslator.java:95)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:107)
	at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1556)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:677)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:972)
	at org.springframework.jdbc.core.JdbcTemplate.update(JdbcTemplate.java:993)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:337)
	at org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate.update(NamedParameterJdbcTemplate.java:342)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.lambda$execute$0(JdbcTemplateStorageAccessor.java:115)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.insertRecord(JdbcTemplateStorageAccessor.java:68)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:216)
	at jdk.proxy2/jdk.proxy2.$Proxy183.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'bookComputeDiscount' for key 'shedlock.PRIMARY'
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:109)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:114)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:988)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1166)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1101)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1467)
	at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1084)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.springframework.jdbc.core.JdbcTemplate.lambda$update$2(JdbcTemplate.java:977)
	at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:658)
	... 25 common frames omitted
2024-12-27 15:23:20,785 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-12-27 15:23:20,920 INFO o.s.b.StartupInfoLogger [main] Starting JpaLibraryProject1Application using Java 21.0.4 with PID 15308 (D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes started by youss in D:\Spring_projects\Library_management_backend\jpa-library-project)
2024-12-27 15:23:20,922 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-12-27 15:23:23,007 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-27 15:23:23,029 DEBUG o.s.d.r.c.RepositoryConfigurationDelegate [main] Scanning for JPA repositories in packages com.example.book.
2024-12-27 15:23:23,049 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\AutherRepo.class]
2024-12-27 15:23:23,051 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\BookRepo.class]
2024-12-27 15:23:23,104 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 72 ms. Found 2 JPA repository interfaces.
2024-12-27 15:23:24,576 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2024-12-27 15:23:24,595 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-12-27 15:23:24,599 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-12-27 15:23:24,599 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-27 15:23:24,748 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-12-27 15:23:24,749 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3675 ms
2024-12-27 15:23:25,466 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-12-27 15:23:26,052 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4ae6451d
2024-12-27 15:23:26,056 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-12-27 15:23:26,123 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book?createDatabaseIfNotExist=true (MySQL 8.0)
2024-12-27 15:23:26,223 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.051s)
2024-12-27 15:23:26,261 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema `book`: 2
2024-12-27 15:23:26,262 WARN o.f.c.i.l.s.Slf4jLog [main] Schema `book` has a version (2) that is newer than the latest available migration (1) !
2024-12-27 15:23:26,270 INFO o.f.c.i.l.s.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2024-12-27 15:23:26,490 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-27 15:23:26,706 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-27 15:23:26,837 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2024-12-27 15:23:27,411 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-27 15:23:27,533 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-27 15:23:27,535 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-12-27 15:23:27,563 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-27 15:23:29,266 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-27 15:23:29,359 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 15:23:29,649 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Initializing JpaMetamodelMappingContext…
2024-12-27 15:23:29,676 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Finished initializing JpaMetamodelMappingContext
2024-12-27 15:23:29,875 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.AutherRepo…
2024-12-27 15:23:29,974 DEBUG o.s.d.j.r.q.NamedQuery [main] Looking up named query Auther.findByEmail
2024-12-27 15:23:29,979 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Auther.findByEmail
2024-12-27 15:23:30,086 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.AutherRepo.
2024-12-27 15:23:30,199 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.BookRepo…
2024-12-27 15:23:30,209 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Book.deleteByAutherId.count
2024-12-27 15:23:30,230 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-27 15:23:30,762 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.BookRepo.
2024-12-27 15:23:31,362 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-27 15:23:33,190 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 16 endpoints beneath base path '/actuator'
2024-12-27 15:23:33,330 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-12-27 15:23:33,386 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/'
2024-12-27 15:23:33,414 INFO o.s.b.StartupInfoLogger [main] Started JpaLibraryProject1Application in 13.152 seconds (process running for 15.24)
2024-12-27 15:23:33,452 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findAll()
2024-12-27 15:23:33,460 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherRepo.findAll()
2024-12-27 15:23:33,617 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        b1_0.auther_id,
        b1_0.id,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status,
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status 
    from
        authers a1_0 
    left join
        books b1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 15:23:33,733 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> BookRepo.findAll()
2024-12-27 15:23:33,741 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 15:23:34,370 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-1] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 15:23:34,370 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-2] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 15:23:38,221 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(9)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-27 15:23:38,222 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(9)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2024-12-27 15:23:38,227 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(9)-127.0.0.1] Completed initialization in 4 ms
2024-12-27 15:23:38,384 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-2] compute price >> 2024-12-27T15:23:38.375757600
2024-12-27 15:23:38,390 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-1] compute discount >> 2024-12-27T15:23:38.376759300
2024-12-27 15:23:55,654 INFO o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(6)-127.0.0.1] Application shutdown requested.
2024-12-27 15:23:55,734 INFO o.s.b.w.e.t.GracefulShutdown [RMI TCP Connection(6)-127.0.0.1] Commencing graceful shutdown. Waiting for active requests to complete
2024-12-27 15:23:55,743 INFO o.a.j.l.DirectJDKLog [tomcat-shutdown] Pausing ProtocolHandler ["http-nio-8080"]
2024-12-27 15:23:55,754 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2024-12-27 15:23:55,756 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(6)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2024-12-27 15:23:55,791 INFO o.s.o.j.AbstractEntityManagerFactoryBean [RMI TCP Connection(6)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 15:23:55,821 INFO c.z.h.HikariDataSource [RMI TCP Connection(6)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2024-12-27 15:23:55,876 INFO c.z.h.HikariDataSource [RMI TCP Connection(6)-127.0.0.1] HikariPool-1 - Shutdown completed.
2024-12-27 15:27:05,650 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-12-27 15:27:05,767 INFO o.s.b.StartupInfoLogger [main] Starting JpaLibraryProject1Application using Java 21.0.4 with PID 15032 (D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes started by youss in D:\Spring_projects\Library_management_backend\jpa-library-project)
2024-12-27 15:27:05,770 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-12-27 15:27:09,233 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-27 15:27:09,265 DEBUG o.s.d.r.c.RepositoryConfigurationDelegate [main] Scanning for JPA repositories in packages com.example.book.
2024-12-27 15:27:09,314 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\AutherRepo.class]
2024-12-27 15:27:09,316 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\BookRepo.class]
2024-12-27 15:27:09,432 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 163 ms. Found 2 JPA repository interfaces.
2024-12-27 15:27:11,308 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2024-12-27 15:27:11,329 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-12-27 15:27:11,332 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-12-27 15:27:11,333 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-27 15:27:11,449 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-12-27 15:27:11,450 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5572 ms
2024-12-27 15:27:12,183 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-12-27 15:27:12,916 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@417751d3
2024-12-27 15:27:12,921 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-12-27 15:27:13,046 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book?createDatabaseIfNotExist=true (MySQL 8.0)
2024-12-27 15:27:13,190 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.075s)
2024-12-27 15:27:13,241 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema `book`: 2
2024-12-27 15:27:13,242 WARN o.f.c.i.l.s.Slf4jLog [main] Schema `book` has a version (2) that is newer than the latest available migration (1) !
2024-12-27 15:27:13,305 INFO o.f.c.i.l.s.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2024-12-27 15:27:13,788 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-27 15:27:15,963 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-27 15:27:16,740 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2024-12-27 15:27:22,196 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-27 15:27:22,764 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-27 15:27:22,767 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-12-27 15:27:22,856 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-27 15:27:28,615 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-27 15:27:28,793 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 15:27:29,320 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Initializing JpaMetamodelMappingContext…
2024-12-27 15:27:29,360 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Finished initializing JpaMetamodelMappingContext
2024-12-27 15:27:29,606 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.AutherRepo…
2024-12-27 15:27:29,715 DEBUG o.s.d.j.r.q.NamedQuery [main] Looking up named query Auther.findByEmail
2024-12-27 15:27:29,721 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Auther.findByEmail
2024-12-27 15:27:29,822 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.AutherRepo.
2024-12-27 15:27:30,043 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.BookRepo…
2024-12-27 15:27:30,055 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Book.deleteByAutherId.count
2024-12-27 15:27:30,075 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-27 15:27:30,656 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.BookRepo.
2024-12-27 15:27:31,767 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-27 15:27:36,445 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 16 endpoints beneath base path '/actuator'
2024-12-27 15:27:37,093 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-12-27 15:27:37,445 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/'
2024-12-27 15:27:37,483 INFO o.s.b.StartupInfoLogger [main] Started JpaLibraryProject1Application in 32.593 seconds (process running for 35.619)
2024-12-27 15:27:37,676 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findAll()
2024-12-27 15:27:37,714 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherRepo.findAll()
2024-12-27 15:27:39,043 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        b1_0.auther_id,
        b1_0.id,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status,
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status 
    from
        authers a1_0 
    left join
        books b1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 15:27:39,047 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-2] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 15:27:39,079 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-1] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 15:27:39,659 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> BookRepo.findAll()
2024-12-27 15:27:39,664 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 15:27:43,057 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-2] compute discount >> 2024-12-27T15:27:43.056340200
2024-12-27 15:27:43,088 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-1] compute price >> 2024-12-27T15:27:43.088337800
2024-12-27 15:27:56,939 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-27 15:27:56,940 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(11)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2024-12-27 15:27:56,949 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(11)-127.0.0.1] Completed initialization in 9 ms
2024-12-27 15:28:36,511 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-2] ====> Method Name is >> BookController.findById(..)
2024-12-27 15:28:36,512 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-2] ===> argument >> 1
2024-12-27 15:28:36,514 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-2] ====> Method Name is >> BookRepo.findById(..)
2024-12-27 15:28:36,517 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-2] ===> argument >> 1
2024-12-27 15:28:36,562 DEBUG o.h.e.j.s.SqlStatementLogger [http-nio-8080-exec-2] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id 
    where
        b1_0.id=?
2024-12-27 15:28:43,138 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-1] ====> Method Name is >> BookController.findAll()
2024-12-27 15:28:43,138 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-1] ====> Method Name is >> BookRepo.findAll()
2024-12-27 15:28:43,147 DEBUG o.h.e.j.s.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 15:29:05,536 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-4] ====> Method Name is >> AutherController.findAll()
2024-12-27 15:29:40,931 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-5] ====> Method Name is >> BookController.findAll()
2024-12-27 15:29:40,931 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-5] ====> Method Name is >> BookRepo.findAll()
2024-12-27 15:29:40,940 DEBUG o.h.e.j.s.SqlStatementLogger [http-nio-8080-exec-5] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 15:29:55,890 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-6] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 15:29:55,908 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-6] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 15:30:57,544 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-3] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 15:30:57,545 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-4] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 15:31:01,562 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-4] compute discount >> 2024-12-27T15:31:01.547466700
2024-12-27 15:31:01,562 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-3] compute price >> 2024-12-27T15:31:01.547466700
2024-12-27 15:34:17,660 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-2] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 15:34:17,660 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-1] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 15:34:21,721 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-2] compute price >> 2024-12-27T15:34:21.714718300
2024-12-27 15:34:21,721 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-1] compute discount >> 2024-12-27T15:34:21.714718300
2024-12-27 15:37:37,835 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-3] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 15:37:37,835 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-4] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 15:37:41,888 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-4] compute price >> 2024-12-27T15:37:41.880980800
2024-12-27 15:37:41,888 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-3] compute discount >> 2024-12-27T15:37:41.880980800
2024-12-27 15:37:56,764 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-8] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 15:37:56,803 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-8] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 15:40:57,773 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-1] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 15:40:57,773 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-2] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 15:41:01,854 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-2] compute discount >> 2024-12-27T15:41:01.843926700
2024-12-27 15:41:01,854 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-1] compute price >> 2024-12-27T15:41:01.843926700
2024-12-27 15:43:52,834 INFO o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(36)-127.0.0.1] Application shutdown requested.
2024-12-27 15:43:54,358 INFO o.s.b.w.e.t.GracefulShutdown [RMI TCP Connection(36)-127.0.0.1] Commencing graceful shutdown. Waiting for active requests to complete
2024-12-27 15:43:54,624 INFO o.a.j.l.DirectJDKLog [tomcat-shutdown] Pausing ProtocolHandler ["http-nio-8080"]
2024-12-27 15:43:54,743 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2024-12-27 15:43:54,760 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(36)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2024-12-27 15:43:55,127 INFO o.s.o.j.AbstractEntityManagerFactoryBean [RMI TCP Connection(36)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 15:43:55,478 INFO c.z.h.HikariDataSource [RMI TCP Connection(36)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2024-12-27 15:43:56,451 INFO c.z.h.HikariDataSource [RMI TCP Connection(36)-127.0.0.1] HikariPool-1 - Shutdown completed.
2024-12-27 15:45:07,100 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-12-27 15:45:07,239 INFO o.s.b.StartupInfoLogger [main] Starting JpaLibraryProject1Application using Java 21.0.4 with PID 15996 (D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes started by youss in D:\Spring_projects\Library_management_backend\jpa-library-project)
2024-12-27 15:45:07,242 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-12-27 15:45:09,678 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-27 15:45:09,703 DEBUG o.s.d.r.c.RepositoryConfigurationDelegate [main] Scanning for JPA repositories in packages com.example.book.
2024-12-27 15:45:09,725 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\AutherRepo.class]
2024-12-27 15:45:09,728 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\BookRepo.class]
2024-12-27 15:45:09,792 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 86 ms. Found 2 JPA repository interfaces.
2024-12-27 15:45:22,924 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2024-12-27 15:45:22,954 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-12-27 15:45:22,958 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-12-27 15:45:22,958 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-27 15:45:23,100 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-12-27 15:45:23,102 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 15766 ms
2024-12-27 15:45:23,900 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-12-27 15:45:24,672 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@438a2d3
2024-12-27 15:45:24,676 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-12-27 15:45:24,880 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book?createDatabaseIfNotExist=true (MySQL 8.0)
2024-12-27 15:45:25,126 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.088s)
2024-12-27 15:45:25,155 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema `book`: 2
2024-12-27 15:45:25,156 WARN o.f.c.i.l.s.Slf4jLog [main] Schema `book` has a version (2) that is newer than the latest available migration (1) !
2024-12-27 15:45:25,165 INFO o.f.c.i.l.s.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2024-12-27 15:45:25,359 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-27 15:45:25,471 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-27 15:45:25,534 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2024-12-27 15:45:26,014 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-27 15:45:26,129 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-27 15:45:26,131 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-12-27 15:45:26,154 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-27 15:45:28,005 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-27 15:45:28,139 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 15:45:28,480 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Initializing JpaMetamodelMappingContext…
2024-12-27 15:45:28,513 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Finished initializing JpaMetamodelMappingContext
2024-12-27 15:45:28,721 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.AutherRepo…
2024-12-27 15:45:28,815 DEBUG o.s.d.j.r.q.NamedQuery [main] Looking up named query Auther.findByEmail
2024-12-27 15:45:28,820 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Auther.findByEmail
2024-12-27 15:45:28,925 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.AutherRepo.
2024-12-27 15:45:29,073 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.BookRepo…
2024-12-27 15:45:29,082 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Book.deleteByAutherId.count
2024-12-27 15:45:29,103 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-27 15:45:29,658 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.BookRepo.
2024-12-27 15:45:30,329 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-27 15:45:32,322 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 16 endpoints beneath base path '/actuator'
2024-12-27 15:45:32,464 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-12-27 15:45:32,514 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/'
2024-12-27 15:45:32,540 INFO o.s.b.StartupInfoLogger [main] Started JpaLibraryProject1Application in 25.995 seconds (process running for 28.119)
2024-12-27 15:45:32,580 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findAll()
2024-12-27 15:45:32,587 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherRepo.findAll()
2024-12-27 15:45:32,708 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        b1_0.auther_id,
        b1_0.id,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status,
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status 
    from
        authers a1_0 
    left join
        books b1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 15:45:32,797 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> BookRepo.findAll()
2024-12-27 15:45:32,803 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 15:45:33,306 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-1] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 15:45:33,306 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-2] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 15:45:34,288 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(9)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-27 15:45:34,289 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(9)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2024-12-27 15:45:34,291 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(9)-127.0.0.1] Completed initialization in 2 ms
2024-12-27 15:45:37,314 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-2] compute discount >> 2024-12-27T15:45:37.312838
2024-12-27 15:45:37,314 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-1] compute price >> 2024-12-27T15:45:37.312838
2024-12-27 15:45:42,931 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-2] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 15:45:42,945 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-2] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 15:45:46,443 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-3] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 15:45:46,448 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-3] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 15:48:52,935 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-4] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 15:48:52,938 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-3] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 15:48:57,039 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-4] compute discount >> 2024-12-27T15:48:57.034801400
2024-12-27 15:48:57,056 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-3] compute price >> 2024-12-27T15:48:57.050962100
2024-12-27 15:52:10,285 INFO o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(17)-127.0.0.1] Application shutdown requested.
2024-12-27 15:52:11,591 INFO o.s.b.w.e.t.GracefulShutdown [RMI TCP Connection(17)-127.0.0.1] Commencing graceful shutdown. Waiting for active requests to complete
2024-12-27 15:52:11,693 INFO o.a.j.l.DirectJDKLog [tomcat-shutdown] Pausing ProtocolHandler ["http-nio-8080"]
2024-12-27 15:52:11,800 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2024-12-27 15:52:11,820 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(17)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2024-12-27 15:52:12,220 INFO o.s.o.j.AbstractEntityManagerFactoryBean [RMI TCP Connection(17)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 15:52:12,533 INFO c.z.h.HikariDataSource [RMI TCP Connection(17)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2024-12-27 15:52:12,995 INFO c.z.h.HikariDataSource [RMI TCP Connection(17)-127.0.0.1] HikariPool-1 - Shutdown completed.
2024-12-27 15:52:32,680 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-12-27 15:52:32,778 INFO o.s.b.StartupInfoLogger [main] Starting JpaLibraryProject1Application using Java 21.0.4 with PID 16664 (D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes started by youss in D:\Spring_projects\Library_management_backend\jpa-library-project)
2024-12-27 15:52:32,780 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-12-27 15:52:35,036 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-27 15:52:35,066 DEBUG o.s.d.r.c.RepositoryConfigurationDelegate [main] Scanning for JPA repositories in packages com.example.book.
2024-12-27 15:52:35,092 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\AutherRepo.class]
2024-12-27 15:52:35,095 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\BookRepo.class]
2024-12-27 15:52:35,173 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 104 ms. Found 2 JPA repository interfaces.
2024-12-27 15:52:37,078 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2024-12-27 15:52:37,099 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-12-27 15:52:37,104 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-12-27 15:52:37,105 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-27 15:52:37,211 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-12-27 15:52:37,212 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4332 ms
2024-12-27 15:52:37,903 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-12-27 15:52:38,618 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1ddba7a0
2024-12-27 15:52:38,624 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-12-27 15:52:38,754 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book?createDatabaseIfNotExist=true (MySQL 8.0)
2024-12-27 15:52:38,940 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.075s)
2024-12-27 15:52:38,983 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema `book`: 2
2024-12-27 15:52:38,984 WARN o.f.c.i.l.s.Slf4jLog [main] Schema `book` has a version (2) that is newer than the latest available migration (1) !
2024-12-27 15:52:38,992 INFO o.f.c.i.l.s.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2024-12-27 15:52:39,313 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-27 15:52:39,455 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-27 15:52:39,523 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2024-12-27 15:52:40,023 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-27 15:52:40,171 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-27 15:52:40,174 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-12-27 15:52:40,209 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-27 15:52:41,809 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-27 15:52:41,930 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 15:52:42,311 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Initializing JpaMetamodelMappingContext…
2024-12-27 15:52:42,346 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Finished initializing JpaMetamodelMappingContext
2024-12-27 15:52:42,706 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.AutherRepo…
2024-12-27 15:52:42,812 DEBUG o.s.d.j.r.q.NamedQuery [main] Looking up named query Auther.findByEmail
2024-12-27 15:52:42,817 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Auther.findByEmail
2024-12-27 15:52:42,902 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.AutherRepo.
2024-12-27 15:52:43,068 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.BookRepo…
2024-12-27 15:52:43,083 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Book.deleteByAutherId.count
2024-12-27 15:52:43,107 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-27 15:52:43,637 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.BookRepo.
2024-12-27 15:52:44,398 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-27 15:52:46,847 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 16 endpoints beneath base path '/actuator'
2024-12-27 15:52:47,065 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-12-27 15:52:47,113 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/'
2024-12-27 15:52:47,140 INFO o.s.b.StartupInfoLogger [main] Started JpaLibraryProject1Application in 15.273 seconds (process running for 17.103)
2024-12-27 15:52:47,179 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findAll()
2024-12-27 15:52:47,198 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherRepo.findAll()
2024-12-27 15:52:47,340 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        b1_0.auther_id,
        b1_0.id,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status,
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status 
    from
        authers a1_0 
    left join
        books b1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 15:52:47,445 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> BookRepo.findAll()
2024-12-27 15:52:47,454 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 15:52:48,100 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-1] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 15:52:48,100 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-2] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 15:52:48,774 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(8)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-27 15:52:48,775 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(8)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2024-12-27 15:52:48,780 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(8)-127.0.0.1] Completed initialization in 4 ms
2024-12-27 15:52:52,103 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-1] compute discount >> 2024-12-27T15:52:52.102034100
2024-12-27 15:52:52,103 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-2] compute price >> 2024-12-27T15:52:52.102034100
2024-12-27 15:53:19,168 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-1] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 15:53:19,179 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-1] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 15:53:38,320 INFO o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(9)-127.0.0.1] Application shutdown requested.
2024-12-27 15:53:38,328 INFO o.s.b.w.e.t.GracefulShutdown [RMI TCP Connection(9)-127.0.0.1] Commencing graceful shutdown. Waiting for active requests to complete
2024-12-27 15:53:38,333 INFO o.a.j.l.DirectJDKLog [tomcat-shutdown] Pausing ProtocolHandler ["http-nio-8080"]
2024-12-27 15:53:38,354 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2024-12-27 15:53:38,356 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(9)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2024-12-27 15:53:38,382 INFO o.s.o.j.AbstractEntityManagerFactoryBean [RMI TCP Connection(9)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 15:53:38,394 INFO c.z.h.HikariDataSource [RMI TCP Connection(9)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2024-12-27 15:53:38,479 INFO c.z.h.HikariDataSource [RMI TCP Connection(9)-127.0.0.1] HikariPool-1 - Shutdown completed.
2024-12-27 15:58:10,856 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-12-27 15:58:10,977 INFO o.s.b.StartupInfoLogger [main] Starting JpaLibraryProject1Application using Java 21.0.4 with PID 704 (D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes started by youss in D:\Spring_projects\Library_management_backend\jpa-library-project)
2024-12-27 15:58:10,979 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-12-27 15:58:13,432 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-27 15:58:13,456 DEBUG o.s.d.r.c.RepositoryConfigurationDelegate [main] Scanning for JPA repositories in packages com.example.book.
2024-12-27 15:58:13,481 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\AutherRepo.class]
2024-12-27 15:58:13,483 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\BookRepo.class]
2024-12-27 15:58:13,568 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 110 ms. Found 2 JPA repository interfaces.
2024-12-27 15:58:24,746 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2024-12-27 15:58:25,008 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-12-27 15:58:25,011 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-12-27 15:58:25,012 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-27 15:58:26,363 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-12-27 15:58:26,365 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 15286 ms
2024-12-27 15:58:27,443 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-12-27 15:58:28,177 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6fe9c048
2024-12-27 15:58:28,181 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-12-27 15:58:28,313 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book?createDatabaseIfNotExist=true (MySQL 8.0)
2024-12-27 15:58:28,475 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.081s)
2024-12-27 15:58:28,514 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema `book`: 2
2024-12-27 15:58:28,515 WARN o.f.c.i.l.s.Slf4jLog [main] Schema `book` has a version (2) that is newer than the latest available migration (1) !
2024-12-27 15:58:28,524 INFO o.f.c.i.l.s.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2024-12-27 15:58:28,818 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-27 15:58:28,941 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-27 15:58:29,010 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2024-12-27 15:58:29,521 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-27 15:58:29,625 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-27 15:58:29,626 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-12-27 15:58:29,650 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-27 15:58:33,455 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-27 15:58:36,791 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 15:58:38,093 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Initializing JpaMetamodelMappingContext…
2024-12-27 15:58:38,772 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Finished initializing JpaMetamodelMappingContext
2024-12-27 15:58:40,809 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.AutherRepo…
2024-12-27 15:58:41,939 DEBUG o.s.d.j.r.q.NamedQuery [main] Looking up named query Auther.findByEmail
2024-12-27 15:58:42,011 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Auther.findByEmail
2024-12-27 15:58:43,685 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.AutherRepo.
2024-12-27 15:58:43,892 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.BookRepo…
2024-12-27 15:58:43,902 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Book.deleteByAutherId.count
2024-12-27 15:58:43,928 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-27 15:58:44,627 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.BookRepo.
2024-12-27 15:58:45,711 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-27 15:58:48,141 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 16 endpoints beneath base path '/actuator'
2024-12-27 15:58:48,319 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-12-27 15:58:48,393 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/'
2024-12-27 15:58:48,422 INFO o.s.b.StartupInfoLogger [main] Started JpaLibraryProject1Application in 38.147 seconds (process running for 40.043)
2024-12-27 15:58:48,460 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findAll()
2024-12-27 15:58:48,468 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherRepo.findAll()
2024-12-27 15:58:49,104 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        b1_0.auther_id,
        b1_0.id,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status,
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status 
    from
        authers a1_0 
    left join
        books b1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 15:58:49,221 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> BookRepo.findAll()
2024-12-27 15:58:49,226 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 15:58:49,337 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-1] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 15:58:49,337 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-2] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 15:58:50,601 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(11)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-27 15:58:50,602 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(11)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2024-12-27 15:58:50,607 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(11)-127.0.0.1] Completed initialization in 4 ms
2024-12-27 15:58:53,340 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-1] compute price >> 2024-12-27T15:58:53.339242600
2024-12-27 15:58:53,340 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-2] compute discount >> 2024-12-27T15:58:53.339242600
2024-12-27 15:59:02,219 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-1] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 15:59:02,242 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-1] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 15:59:10,032 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-3] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 15:59:10,036 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-3] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 15:59:22,674 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-4] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 15:59:22,679 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-4] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:00:19,141 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-5] ====> Method Name is >> AutherController.findAll()
2024-12-27 16:01:39,806 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-8] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:01:39,824 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-8] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:02:08,845 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-4] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 16:02:08,852 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-3] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 16:02:12,864 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-4] compute discount >> 2024-12-27T16:02:12.858311600
2024-12-27 16:02:12,866 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-3] compute price >> 2024-12-27T16:02:12.858311600
2024-12-27 16:02:25,634 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-10] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:02:25,637 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-10] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:03:07,634 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-9] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:03:07,640 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-9] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:04:52,223 INFO o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(22)-127.0.0.1] Application shutdown requested.
2024-12-27 16:04:52,989 INFO o.s.b.w.e.t.GracefulShutdown [RMI TCP Connection(22)-127.0.0.1] Commencing graceful shutdown. Waiting for active requests to complete
2024-12-27 16:04:53,070 INFO o.a.j.l.DirectJDKLog [tomcat-shutdown] Pausing ProtocolHandler ["http-nio-8080"]
2024-12-27 16:04:53,169 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2024-12-27 16:04:53,185 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(22)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2024-12-27 16:04:53,695 INFO o.s.o.j.AbstractEntityManagerFactoryBean [RMI TCP Connection(22)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 16:04:54,074 INFO c.z.h.HikariDataSource [RMI TCP Connection(22)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2024-12-27 16:04:54,629 INFO c.z.h.HikariDataSource [RMI TCP Connection(22)-127.0.0.1] HikariPool-1 - Shutdown completed.
2024-12-27 16:05:15,319 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-12-27 16:05:15,414 INFO o.s.b.StartupInfoLogger [main] Starting JpaLibraryProject1Application using Java 21.0.4 with PID 14996 (D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes started by youss in D:\Spring_projects\Library_management_backend\jpa-library-project)
2024-12-27 16:05:15,416 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-12-27 16:05:17,382 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-27 16:05:17,409 DEBUG o.s.d.r.c.RepositoryConfigurationDelegate [main] Scanning for JPA repositories in packages com.example.book.
2024-12-27 16:05:17,432 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\AutherRepo.class]
2024-12-27 16:05:17,435 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\BookRepo.class]
2024-12-27 16:05:17,504 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 92 ms. Found 2 JPA repository interfaces.
2024-12-27 16:05:19,242 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2024-12-27 16:05:19,263 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-12-27 16:05:19,267 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-12-27 16:05:19,268 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-27 16:05:19,397 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-12-27 16:05:19,398 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 3891 ms
2024-12-27 16:05:20,060 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-12-27 16:05:20,765 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@40a84ea8
2024-12-27 16:05:20,770 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-12-27 16:05:20,935 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book?createDatabaseIfNotExist=true (MySQL 8.0)
2024-12-27 16:05:21,142 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.083s)
2024-12-27 16:05:21,183 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema `book`: 2
2024-12-27 16:05:21,184 WARN o.f.c.i.l.s.Slf4jLog [main] Schema `book` has a version (2) that is newer than the latest available migration (1) !
2024-12-27 16:05:21,192 INFO o.f.c.i.l.s.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2024-12-27 16:05:21,453 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-27 16:05:21,573 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-27 16:05:21,634 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2024-12-27 16:05:22,260 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-27 16:05:22,375 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-27 16:05:22,378 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-12-27 16:05:22,412 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-27 16:05:24,040 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-27 16:05:24,161 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 16:05:24,496 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Initializing JpaMetamodelMappingContext…
2024-12-27 16:05:24,535 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Finished initializing JpaMetamodelMappingContext
2024-12-27 16:05:24,748 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.AutherRepo…
2024-12-27 16:05:24,855 DEBUG o.s.d.j.r.q.NamedQuery [main] Looking up named query Auther.findByEmail
2024-12-27 16:05:24,860 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Auther.findByEmail
2024-12-27 16:05:24,966 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.AutherRepo.
2024-12-27 16:05:25,158 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.BookRepo…
2024-12-27 16:05:25,175 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Book.deleteByAutherId.count
2024-12-27 16:05:25,203 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-27 16:05:25,923 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.BookRepo.
2024-12-27 16:05:26,797 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-27 16:05:29,007 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 16 endpoints beneath base path '/actuator'
2024-12-27 16:05:29,265 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-12-27 16:05:29,328 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/'
2024-12-27 16:05:29,368 INFO o.s.b.StartupInfoLogger [main] Started JpaLibraryProject1Application in 14.544 seconds (process running for 16.705)
2024-12-27 16:05:29,412 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findAll()
2024-12-27 16:05:29,421 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherRepo.findAll()
2024-12-27 16:05:29,570 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        b1_0.auther_id,
        b1_0.id,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status,
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status 
    from
        authers a1_0 
    left join
        books b1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 16:05:29,673 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> BookRepo.findAll()
2024-12-27 16:05:29,679 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 16:05:30,207 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-2] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 16:05:30,208 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-1] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 16:05:31,407 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(9)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-27 16:05:31,407 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(9)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2024-12-27 16:05:31,410 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(9)-127.0.0.1] Completed initialization in 2 ms
2024-12-27 16:05:34,211 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-1] compute price >> 2024-12-27T16:05:34.210929
2024-12-27 16:05:34,211 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-2] compute discount >> 2024-12-27T16:05:34.209603
2024-12-27 16:05:47,140 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-2] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:05:47,156 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-2] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:05:54,859 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-3] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:05:54,861 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-3] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:07:12,525 INFO o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(12)-127.0.0.1] Application shutdown requested.
2024-12-27 16:07:13,745 INFO o.s.b.w.e.t.GracefulShutdown [RMI TCP Connection(12)-127.0.0.1] Commencing graceful shutdown. Waiting for active requests to complete
2024-12-27 16:07:13,872 INFO o.a.j.l.DirectJDKLog [tomcat-shutdown] Pausing ProtocolHandler ["http-nio-8080"]
2024-12-27 16:07:14,075 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2024-12-27 16:07:14,103 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(12)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2024-12-27 16:07:15,036 INFO o.s.o.j.AbstractEntityManagerFactoryBean [RMI TCP Connection(12)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 16:07:15,215 INFO c.z.h.HikariDataSource [RMI TCP Connection(12)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2024-12-27 16:07:15,483 INFO c.z.h.HikariDataSource [RMI TCP Connection(12)-127.0.0.1] HikariPool-1 - Shutdown completed.
2024-12-27 16:07:46,394 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-12-27 16:07:46,508 INFO o.s.b.StartupInfoLogger [main] Starting JpaLibraryProject1Application using Java 21.0.4 with PID 13848 (D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes started by youss in D:\Spring_projects\Library_management_backend\jpa-library-project)
2024-12-27 16:07:46,510 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-12-27 16:07:48,952 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-27 16:07:48,982 DEBUG o.s.d.r.c.RepositoryConfigurationDelegate [main] Scanning for JPA repositories in packages com.example.book.
2024-12-27 16:07:49,012 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\AutherRepo.class]
2024-12-27 16:07:49,013 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\BookRepo.class]
2024-12-27 16:07:49,107 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 122 ms. Found 2 JPA repository interfaces.
2024-12-27 16:07:51,226 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2024-12-27 16:07:51,246 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-12-27 16:07:51,249 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-12-27 16:07:51,250 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-27 16:07:51,392 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-12-27 16:07:51,393 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4797 ms
2024-12-27 16:07:53,415 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-12-27 16:07:54,094 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5c34b0f2
2024-12-27 16:07:54,098 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-12-27 16:07:54,183 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book?createDatabaseIfNotExist=true (MySQL 8.0)
2024-12-27 16:07:54,330 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.068s)
2024-12-27 16:07:54,378 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema `book`: 2
2024-12-27 16:07:54,380 WARN o.f.c.i.l.s.Slf4jLog [main] Schema `book` has a version (2) that is newer than the latest available migration (1) !
2024-12-27 16:07:54,392 INFO o.f.c.i.l.s.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2024-12-27 16:07:54,656 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-27 16:07:55,027 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-27 16:07:55,106 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2024-12-27 16:07:55,619 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-27 16:07:57,684 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-27 16:07:57,688 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-12-27 16:07:57,980 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-27 16:08:08,501 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-27 16:08:08,631 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 16:08:08,913 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Initializing JpaMetamodelMappingContext…
2024-12-27 16:08:08,948 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Finished initializing JpaMetamodelMappingContext
2024-12-27 16:08:09,162 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.AutherRepo…
2024-12-27 16:08:09,270 DEBUG o.s.d.j.r.q.NamedQuery [main] Looking up named query Auther.findByEmail
2024-12-27 16:08:09,275 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Auther.findByEmail
2024-12-27 16:08:09,359 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.AutherRepo.
2024-12-27 16:08:09,463 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.BookRepo…
2024-12-27 16:08:09,471 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Book.deleteByAutherId.count
2024-12-27 16:08:09,489 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-27 16:08:10,073 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.BookRepo.
2024-12-27 16:08:10,628 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-27 16:08:12,688 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 16 endpoints beneath base path '/actuator'
2024-12-27 16:08:12,883 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-12-27 16:08:12,931 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/'
2024-12-27 16:08:12,958 INFO o.s.b.StartupInfoLogger [main] Started JpaLibraryProject1Application in 27.149 seconds (process running for 29.346)
2024-12-27 16:08:13,002 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findAll()
2024-12-27 16:08:13,010 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherRepo.findAll()
2024-12-27 16:08:13,169 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        b1_0.auther_id,
        b1_0.id,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status,
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status 
    from
        authers a1_0 
    left join
        books b1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 16:08:13,254 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> BookRepo.findAll()
2024-12-27 16:08:13,260 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 16:08:14,397 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-1] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 16:08:14,397 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-2] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 16:08:15,403 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-27 16:08:15,403 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(10)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2024-12-27 16:08:15,408 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(10)-127.0.0.1] Completed initialization in 5 ms
2024-12-27 16:08:18,408 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-2] compute discount >> 2024-12-27T16:08:18.407800500
2024-12-27 16:08:18,408 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-1] compute price >> 2024-12-27T16:08:18.407800500
2024-12-27 16:08:41,819 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-2] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:08:41,831 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-2] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:08:56,018 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-3] ====> Method Name is >> AutherController.findAll()
2024-12-27 16:09:12,363 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-4] ====> Method Name is >> BookController.findAll()
2024-12-27 16:09:12,364 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-4] ====> Method Name is >> BookRepo.findAll()
2024-12-27 16:09:12,373 DEBUG o.h.e.j.s.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 16:09:22,498 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-5] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.BookDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:09:22,504 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-5] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.BookDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:10:12,440 INFO o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(14)-127.0.0.1] Application shutdown requested.
2024-12-27 16:10:12,922 INFO o.s.b.w.e.t.GracefulShutdown [RMI TCP Connection(14)-127.0.0.1] Commencing graceful shutdown. Waiting for active requests to complete
2024-12-27 16:10:12,966 INFO o.a.j.l.DirectJDKLog [tomcat-shutdown] Pausing ProtocolHandler ["http-nio-8080"]
2024-12-27 16:10:13,023 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2024-12-27 16:10:13,030 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2024-12-27 16:10:13,169 INFO o.s.o.j.AbstractEntityManagerFactoryBean [RMI TCP Connection(14)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 16:10:13,290 INFO c.z.h.HikariDataSource [RMI TCP Connection(14)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2024-12-27 16:10:13,554 INFO c.z.h.HikariDataSource [RMI TCP Connection(14)-127.0.0.1] HikariPool-1 - Shutdown completed.
2024-12-27 16:10:33,611 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-12-27 16:10:33,723 INFO o.s.b.StartupInfoLogger [main] Starting JpaLibraryProject1Application using Java 21.0.4 with PID 21500 (D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes started by youss in D:\Spring_projects\Library_management_backend\jpa-library-project)
2024-12-27 16:10:33,732 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-12-27 16:10:36,028 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-27 16:10:36,053 DEBUG o.s.d.r.c.RepositoryConfigurationDelegate [main] Scanning for JPA repositories in packages com.example.book.
2024-12-27 16:10:36,078 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\AutherRepo.class]
2024-12-27 16:10:36,080 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\BookRepo.class]
2024-12-27 16:10:36,171 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 115 ms. Found 2 JPA repository interfaces.
2024-12-27 16:10:38,027 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2024-12-27 16:10:38,050 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-12-27 16:10:38,053 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-12-27 16:10:38,054 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-27 16:10:38,169 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-12-27 16:10:38,170 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4354 ms
2024-12-27 16:10:38,944 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-12-27 16:10:39,593 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@731fae
2024-12-27 16:10:39,597 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-12-27 16:10:39,723 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book?createDatabaseIfNotExist=true (MySQL 8.0)
2024-12-27 16:10:39,891 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.065s)
2024-12-27 16:10:39,928 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema `book`: 2
2024-12-27 16:10:39,931 WARN o.f.c.i.l.s.Slf4jLog [main] Schema `book` has a version (2) that is newer than the latest available migration (1) !
2024-12-27 16:10:39,941 INFO o.f.c.i.l.s.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2024-12-27 16:10:40,151 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-27 16:10:40,287 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-27 16:10:40,353 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2024-12-27 16:10:40,809 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-27 16:10:40,977 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-27 16:10:40,979 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-12-27 16:10:41,002 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-27 16:10:42,657 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-27 16:10:42,766 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 16:10:43,118 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Initializing JpaMetamodelMappingContext…
2024-12-27 16:10:43,144 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Finished initializing JpaMetamodelMappingContext
2024-12-27 16:10:43,324 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.AutherRepo…
2024-12-27 16:10:43,414 DEBUG o.s.d.j.r.q.NamedQuery [main] Looking up named query Auther.findByEmail
2024-12-27 16:10:43,418 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Auther.findByEmail
2024-12-27 16:10:43,502 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.AutherRepo.
2024-12-27 16:10:43,622 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.BookRepo…
2024-12-27 16:10:43,634 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Book.deleteByAutherId.count
2024-12-27 16:10:43,660 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-27 16:10:44,307 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.BookRepo.
2024-12-27 16:10:45,073 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-27 16:10:47,192 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 16 endpoints beneath base path '/actuator'
2024-12-27 16:10:47,349 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-12-27 16:10:47,405 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/'
2024-12-27 16:10:47,440 INFO o.s.b.StartupInfoLogger [main] Started JpaLibraryProject1Application in 14.362 seconds (process running for 16.437)
2024-12-27 16:10:47,481 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findAll()
2024-12-27 16:10:47,489 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherRepo.findAll()
2024-12-27 16:10:47,630 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        b1_0.auther_id,
        b1_0.id,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status,
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status 
    from
        authers a1_0 
    left join
        books b1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 16:10:47,738 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> BookRepo.findAll()
2024-12-27 16:10:47,744 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 16:10:48,326 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-1] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 16:10:48,327 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-2] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 16:10:48,797 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-27 16:10:48,798 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(10)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2024-12-27 16:10:48,802 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(10)-127.0.0.1] Completed initialization in 3 ms
2024-12-27 16:10:52,329 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-1] compute discount >> 2024-12-27T16:10:52.328355
2024-12-27 16:10:52,329 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-2] compute price >> 2024-12-27T16:10:52.328355
2024-12-27 16:10:53,812 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-2] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.BookDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:10:53,827 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-2] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.BookDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:11:13,492 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-3] ====> Method Name is >> BookController.findAll()
2024-12-27 16:11:13,493 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-3] ====> Method Name is >> BookRepo.findAll()
2024-12-27 16:11:13,499 DEBUG o.h.e.j.s.SqlStatementLogger [http-nio-8080-exec-3] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 16:11:25,907 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-4] ====> Method Name is >> AutherController.findAll()
2024-12-27 16:11:42,701 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-5] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:11:42,734 WARN o.s.c.l.CompositeLog [http-nio-8080-exec-5] Failed to evaluate Jackson deserialization for type [[simple type, class com.example.book.dto.AutherDto]]: com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot handle managed/back reference 'defaultReference': back reference type (`com.example.book.entity.Auther`) not compatible with managed type (com.example.book.dto.AutherDto)
2024-12-27 16:13:54,221 INFO o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(16)-127.0.0.1] Application shutdown requested.
2024-12-27 16:13:54,221 INFO o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(17)-127.0.0.1] Application shutdown requested.
2024-12-27 16:13:54,221 INFO o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(18)-127.0.0.1] Application shutdown requested.
2024-12-27 16:13:55,675 INFO o.s.b.w.e.t.GracefulShutdown [RMI TCP Connection(18)-127.0.0.1] Commencing graceful shutdown. Waiting for active requests to complete
2024-12-27 16:13:55,821 INFO o.a.j.l.DirectJDKLog [tomcat-shutdown] Pausing ProtocolHandler ["http-nio-8080"]
2024-12-27 16:13:56,031 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2024-12-27 16:13:56,065 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(18)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2024-12-27 16:13:57,368 INFO o.s.o.j.AbstractEntityManagerFactoryBean [RMI TCP Connection(18)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 16:13:57,737 INFO c.z.h.HikariDataSource [RMI TCP Connection(18)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2024-12-27 16:13:58,164 INFO c.z.h.HikariDataSource [RMI TCP Connection(18)-127.0.0.1] HikariPool-1 - Shutdown completed.
2024-12-27 16:15:59,748 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-12-27 16:15:59,850 INFO o.s.b.StartupInfoLogger [main] Starting JpaLibraryProject1Application using Java 21.0.4 with PID 19840 (D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes started by youss in D:\Spring_projects\Library_management_backend\jpa-library-project)
2024-12-27 16:15:59,852 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-12-27 16:16:02,310 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-27 16:16:02,342 DEBUG o.s.d.r.c.RepositoryConfigurationDelegate [main] Scanning for JPA repositories in packages com.example.book.
2024-12-27 16:16:02,375 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\AutherRepo.class]
2024-12-27 16:16:02,377 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\BookRepo.class]
2024-12-27 16:16:02,488 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 143 ms. Found 2 JPA repository interfaces.
2024-12-27 16:16:04,437 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port 8080 (http)
2024-12-27 16:16:04,472 INFO o.a.j.l.DirectJDKLog [main] Initializing ProtocolHandler ["http-nio-8080"]
2024-12-27 16:16:04,476 INFO o.a.j.l.DirectJDKLog [main] Starting service [Tomcat]
2024-12-27 16:16:04,478 INFO o.a.j.l.DirectJDKLog [main] Starting Servlet engine: [Apache Tomcat/10.1.33]
2024-12-27 16:16:04,686 INFO o.a.j.l.DirectJDKLog [main] Initializing Spring embedded WebApplicationContext
2024-12-27 16:16:04,687 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4731 ms
2024-12-27 16:16:05,433 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-12-27 16:16:06,276 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@f60c14e
2024-12-27 16:16:06,281 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-12-27 16:16:06,449 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book?createDatabaseIfNotExist=true (MySQL 8.0)
2024-12-27 16:16:06,711 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.085s)
2024-12-27 16:16:06,747 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema `book`: 2
2024-12-27 16:16:06,749 WARN o.f.c.i.l.s.Slf4jLog [main] Schema `book` has a version (2) that is newer than the latest available migration (1) !
2024-12-27 16:16:06,758 INFO o.f.c.i.l.s.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2024-12-27 16:16:07,015 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-27 16:16:07,169 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-27 16:16:07,241 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2024-12-27 16:16:07,747 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-27 16:16:07,883 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-27 16:16:07,887 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-12-27 16:16:07,924 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-27 16:16:09,973 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-27 16:16:10,109 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 16:16:10,540 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Initializing JpaMetamodelMappingContext…
2024-12-27 16:16:10,572 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Finished initializing JpaMetamodelMappingContext
2024-12-27 16:16:10,780 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.AutherRepo…
2024-12-27 16:16:10,867 DEBUG o.s.d.j.r.q.NamedQuery [main] Looking up named query Auther.findByEmail
2024-12-27 16:16:10,873 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Auther.findByEmail
2024-12-27 16:16:10,971 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.AutherRepo.
2024-12-27 16:16:11,107 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.BookRepo…
2024-12-27 16:16:11,121 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Book.deleteByAutherId.count
2024-12-27 16:16:11,150 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-27 16:16:11,862 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.BookRepo.
2024-12-27 16:16:12,551 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-27 16:16:14,562 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 16 endpoints beneath base path '/actuator'
2024-12-27 16:16:14,765 INFO o.a.j.l.DirectJDKLog [main] Starting ProtocolHandler ["http-nio-8080"]
2024-12-27 16:16:14,831 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port 8080 (http) with context path '/'
2024-12-27 16:16:14,868 INFO o.s.b.StartupInfoLogger [main] Started JpaLibraryProject1Application in 15.709 seconds (process running for 18.725)
2024-12-27 16:16:14,915 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findAll()
2024-12-27 16:16:14,928 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherRepo.findAll()
2024-12-27 16:16:15,077 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        b1_0.auther_id,
        b1_0.id,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status,
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status 
    from
        authers a1_0 
    left join
        books b1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 16:16:15,174 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> BookRepo.findAll()
2024-12-27 16:16:15,180 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 16:16:15,818 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-1] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 16:16:15,819 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-2] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 16:16:19,825 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-2] compute discount >> 2024-12-27T16:16:19.823620400
2024-12-27 16:16:19,825 INFO c.e.b.s.PriceSchedule [ThreadPoolTaskExecutor-1] compute price >> 2024-12-27T16:16:19.823620400
2024-12-27 16:16:30,457 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(10)-127.0.0.1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-27 16:16:30,458 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(10)-127.0.0.1] Initializing Servlet 'dispatcherServlet'
2024-12-27 16:16:30,462 INFO o.s.w.s.FrameworkServlet [RMI TCP Connection(10)-127.0.0.1] Completed initialization in 4 ms
2024-12-27 16:16:45,977 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-2] ====> Method Name is >> AutherController.findAll()
2024-12-27 16:17:00,721 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-1] ====> Method Name is >> AutherController.insert(..)
2024-12-27 16:17:00,723 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-1] ===> argument >> com.example.book.dto.AutherDto@47d86fb3
2024-12-27 16:17:00,739 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-1] ====> Method Name is >> AutherService.insert(..)
2024-12-27 16:17:00,742 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-1] ===> argument >> com.example.book.entity.Auther@67eae206
2024-12-27 16:17:00,743 INFO c.e.b.s.AutherService [http-nio-8080-exec-1] Author Name is John Doe Author Email is john.doe@example.com
2024-12-27 16:17:00,763 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-1] ====> Method Name is >> AutherRepo.findByEmail(..)
2024-12-27 16:17:00,765 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-1] ===> argument >> john.doe@example.com
2024-12-27 16:17:01,109 DEBUG o.h.e.j.s.SqlStatementLogger [http-nio-8080-exec-1] 
    select
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status 
    from
        authers a1_0 
    where
        a1_0.email=?
2024-12-27 16:17:01,155 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-1] ====> Method Name is >> CrudRepository.save(..)
2024-12-27 16:17:01,156 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-1] ===> argument >> com.example.book.entity.Auther@67eae206
2024-12-27 16:17:01,322 DEBUG o.s.d.a.AuditingHandlerSupport [http-nio-8080-exec-1] Touched com.example.book.entity.Auther@67eae206 - Last modification at 2024-12-27T16:17:01.315518200 by test_user
2024-12-27 16:17:01,409 DEBUG o.h.e.j.s.SqlStatementLogger [http-nio-8080-exec-1] 
    insert 
    into
        authers
        (created_by, created_date, email, image_path, ip_address, last_modified_by, last_modified_date, name, status) 
    values
        (?, ?, ?, ?, ?, ?, ?, ?, ?)
2024-12-27 16:17:14,134 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-4] ====> Method Name is >> BookController.findById(..)
2024-12-27 16:17:14,135 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-4] ===> argument >> 1
2024-12-27 16:17:14,145 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-4] ====> Method Name is >> BookRepo.findById(..)
2024-12-27 16:17:14,146 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-4] ===> argument >> 1
2024-12-27 16:17:14,256 DEBUG o.h.e.j.s.SqlStatementLogger [http-nio-8080-exec-4] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id 
    where
        b1_0.id=?
2024-12-27 16:17:22,705 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-6] ====> Method Name is >> BookController.findAll()
2024-12-27 16:17:22,707 INFO c.e.b.a.LoggingAspect [http-nio-8080-exec-6] ====> Method Name is >> BookRepo.findAll()
2024-12-27 16:17:22,718 DEBUG o.h.e.j.s.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 16:17:22,749 DEBUG o.h.e.j.s.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        b1_0.auther_id,
        b1_0.id,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    where
        b1_0.auther_id=?
2024-12-27 16:17:22,767 DEBUG o.h.e.j.s.SqlStatementLogger [http-nio-8080-exec-6] 
    select
        b1_0.auther_id,
        b1_0.id,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    where
        b1_0.auther_id=?
2024-12-27 16:18:10,009 INFO o.s.b.a.SpringApplicationAdminMXBeanRegistrar$SpringApplicationAdmin [RMI TCP Connection(14)-127.0.0.1] Application shutdown requested.
2024-12-27 16:18:10,496 INFO o.s.b.w.e.t.GracefulShutdown [RMI TCP Connection(14)-127.0.0.1] Commencing graceful shutdown. Waiting for active requests to complete
2024-12-27 16:18:10,568 INFO o.a.j.l.DirectJDKLog [tomcat-shutdown] Pausing ProtocolHandler ["http-nio-8080"]
2024-12-27 16:18:10,634 INFO o.s.b.w.e.t.GracefulShutdown [tomcat-shutdown] Graceful shutdown complete
2024-12-27 16:18:10,644 INFO o.a.j.l.DirectJDKLog [RMI TCP Connection(14)-127.0.0.1] Stopping ProtocolHandler ["http-nio-8080"]
2024-12-27 16:18:10,853 INFO o.s.o.j.AbstractEntityManagerFactoryBean [RMI TCP Connection(14)-127.0.0.1] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 16:18:10,961 INFO c.z.h.HikariDataSource [RMI TCP Connection(14)-127.0.0.1] HikariPool-1 - Shutdown initiated...
2024-12-27 16:18:11,123 INFO c.z.h.HikariDataSource [RMI TCP Connection(14)-127.0.0.1] HikariPool-1 - Shutdown completed.
2024-12-27 16:18:49,252 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.example.book.service.AutherServiceTest]: AutherServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-12-27 16:18:49,567 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.example.book.JpaLibraryProject1Application for test class com.example.book.service.AutherServiceTest
2024-12-27 16:18:50,459 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-12-27 16:18:50,559 INFO o.s.b.StartupInfoLogger [main] Starting AutherServiceTest using Java 21.0.4 with PID 15812 (started by youss in D:\Spring_projects\Library_management_backend\jpa-library-project)
2024-12-27 16:18:50,562 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-12-27 16:18:53,729 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-27 16:18:53,772 DEBUG o.s.d.r.c.RepositoryConfigurationDelegate [main] Scanning for JPA repositories in packages com.example.book.
2024-12-27 16:18:53,812 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\AutherRepo.class]
2024-12-27 16:18:53,814 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\BookRepo.class]
2024-12-27 16:18:53,922 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 146 ms. Found 2 JPA repository interfaces.
2024-12-27 16:18:59,389 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-12-27 16:19:00,354 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@24fc9aa5
2024-12-27 16:19:00,360 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-12-27 16:19:00,496 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book?createDatabaseIfNotExist=true (MySQL 8.0)
2024-12-27 16:19:00,675 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.083s)
2024-12-27 16:19:00,716 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema `book`: 2
2024-12-27 16:19:00,717 WARN o.f.c.i.l.s.Slf4jLog [main] Schema `book` has a version (2) that is newer than the latest available migration (1) !
2024-12-27 16:19:00,729 INFO o.f.c.i.l.s.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2024-12-27 16:19:01,129 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-27 16:19:01,392 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-27 16:19:01,483 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2024-12-27 16:19:01,783 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-27 16:19:01,919 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-27 16:19:01,922 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-12-27 16:19:01,956 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-27 16:19:04,003 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-27 16:19:04,152 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 16:19:04,824 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Initializing JpaMetamodelMappingContext…
2024-12-27 16:19:04,862 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Finished initializing JpaMetamodelMappingContext
2024-12-27 16:19:05,239 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.BookRepo…
2024-12-27 16:19:05,354 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Book.deleteByAutherId.count
2024-12-27 16:19:05,400 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-27 16:19:06,250 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.BookRepo.
2024-12-27 16:19:08,051 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-27 16:19:11,411 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 16 endpoints beneath base path '/actuator'
2024-12-27 16:19:11,632 INFO o.s.b.StartupInfoLogger [main] Started AutherServiceTest in 21.715 seconds (process running for 24.807)
2024-12-27 16:19:11,845 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findAll()
2024-12-27 16:19:11,886 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.insertAll(..)
2024-12-27 16:19:11,887 INFO c.e.b.a.LoggingAspect [main] ===> argument >> [com.example.book.entity.Auther@6fcb2e2d, com.example.book.entity.Auther@66fb1627, com.example.book.entity.Auther@1cbd2c1a]
2024-12-27 16:19:11,895 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> BookRepo.findAll()
2024-12-27 16:19:12,459 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 16:19:12,782 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findByEmail(..)
2024-12-27 16:19:12,783 INFO c.e.b.a.LoggingAspect [main] ===> argument >> eljoker@gmail.com
2024-12-27 16:19:12,867 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findByEmail(..)
2024-12-27 16:19:12,868 INFO c.e.b.a.LoggingAspect [main] ===> argument >> email@gmail
2024-12-27 16:19:12,915 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-1] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 16:19:12,932 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 16:19:12,938 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-12-27 16:19:12,960 WARN c.z.h.p.ProxyConnection [ThreadPoolTaskExecutor-2] HikariPool-1 - Connection com.mysql.cj.jdbc.ConnectionImpl@162f38d1 marked as broken because of SQLSTATE(08S01), ErrorCode(0)
com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure

The last packet successfully received from the server was 3 milliseconds ago. The last packet sent successfully to the server was 53 milliseconds ago.
	at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:165)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:55)
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2217)
	at com.zaxxer.hikari.pool.ProxyConnection.setAutoCommit(ProxyConnection.java:402)
	at com.zaxxer.hikari.pool.HikariProxyConnection.setAutoCommit(HikariProxyConnection.java)
	at org.springframework.jdbc.datasource.DataSourceTransactionManager.doCleanupAfterCompletion(DataSourceTransactionManager.java:382)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.cleanupAfterCompletion(AbstractPlatformTransactionManager.java:1062)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:847)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:758)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:152)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.execute(JdbcTemplateStorageAccessor.java:115)
	at net.javacrumbs.shedlock.provider.jdbctemplate.JdbcTemplateStorageAccessor.updateRecord(JdbcTemplateStorageAccessor.java:81)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.doLock(StorageBasedLockProvider.java:91)
	at net.javacrumbs.shedlock.support.StorageBasedLockProvider.lock(StorageBasedLockProvider.java:65)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:359)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:216)
	at jdk.proxy2/jdk.proxy2.$Proxy183.lock(Unknown Source)
	at net.javacrumbs.shedlock.core.DefaultLockingTaskExecutor.executeWithLock(DefaultLockingTaskExecutor.java:63)
	at net.javacrumbs.shedlock.spring.aop.MethodProxyScheduledLockAdvisor$LockingInterceptor.invoke(MethodProxyScheduledLockAdvisor.java:86)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:114)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: com.mysql.cj.exceptions.CJCommunicationsException: Communications link failure

The last packet successfully received from the server was 3 milliseconds ago. The last packet sent successfully to the server was 53 milliseconds ago.
	at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:62)
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:502)
	at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:486)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:52)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:95)
	at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:140)
	at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:156)
	at com.mysql.cj.protocol.a.NativeProtocol.send(NativeProtocol.java:637)
	at com.mysql.cj.protocol.a.NativeProtocol.sendCommand(NativeProtocol.java:691)
	at com.mysql.cj.protocol.a.NativeProtocol.sendQueryPacket(NativeProtocol.java:940)
	at com.mysql.cj.NativeSession.execSQL(NativeSession.java:817)
	at com.mysql.cj.jdbc.ConnectionImpl.setAutoCommit(ConnectionImpl.java:2192)
	... 26 common frames omitted
Caused by: java.net.SocketException: Connection or outbound has been closed
	at java.base/sun.security.ssl.SSLSocketOutputRecord.deliver(SSLSocketOutputRecord.java:291)
	at java.base/sun.security.ssl.SSLSocketImpl$AppOutputStream.write(SSLSocketImpl.java:1304)
	at java.base/java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:125)
	at java.base/java.io.BufferedOutputStream.implFlush(BufferedOutputStream.java:252)
	at java.base/java.io.BufferedOutputStream.flush(BufferedOutputStream.java:240)
	at com.mysql.cj.protocol.a.SimplePacketSender.send(SimplePacketSender.java:48)
	at com.mysql.cj.protocol.a.TimeTrackingPacketSender.send(TimeTrackingPacketSender.java:43)
	at com.mysql.cj.protocol.a.NativeProtocol.send(NativeProtocol.java:630)
	... 30 common frames omitted
2024-12-27 16:19:12,967 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-2] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 16:19:12,992 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2024-12-27 16:32:23,465 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [main] Could not detect default configuration classes for test class [com.example.book.service.AutherServiceTest]: AutherServiceTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2024-12-27 16:32:23,775 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [main] Found @SpringBootConfiguration com.example.book.JpaLibraryProject1Application for test class com.example.book.service.AutherServiceTest
2024-12-27 16:32:24,641 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.1.Final
2024-12-27 16:32:24,735 INFO o.s.b.StartupInfoLogger [main] Starting AutherServiceTest using Java 21.0.4 with PID 7936 (started by youss in D:\Spring_projects\Library_management_backend\jpa-library-project)
2024-12-27 16:32:24,740 INFO o.s.b.SpringApplication [main] No active profile set, falling back to 1 default profile: "default"
2024-12-27 16:32:28,526 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-27 16:32:28,568 DEBUG o.s.d.r.c.RepositoryConfigurationDelegate [main] Scanning for JPA repositories in packages com.example.book.
2024-12-27 16:32:28,607 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\AutherRepo.class]
2024-12-27 16:32:28,612 DEBUG o.s.c.a.ClassPathScanningCandidateComponentProvider [main] Identified candidate component class: file [D:\Spring_projects\Library_management_backend\jpa-library-project\target\classes\com\example\book\repository\BookRepo.class]
2024-12-27 16:32:28,710 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 138 ms. Found 2 JPA repository interfaces.
2024-12-27 16:32:34,156 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2024-12-27 16:32:35,201 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@391b03b
2024-12-27 16:32:35,208 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2024-12-27 16:32:35,443 INFO o.f.c.i.l.s.Slf4jLog [main] Database: jdbc:mysql://localhost:3306/book?createDatabaseIfNotExist=true (MySQL 8.0)
2024-12-27 16:32:35,665 INFO o.f.c.i.l.s.Slf4jLog [main] Successfully validated 2 migrations (execution time 00:00.093s)
2024-12-27 16:32:35,710 INFO o.f.c.i.l.s.Slf4jLog [main] Current version of schema `book`: 2
2024-12-27 16:32:35,712 WARN o.f.c.i.l.s.Slf4jLog [main] Schema `book` has a version (2) that is newer than the latest available migration (1) !
2024-12-27 16:32:35,723 INFO o.f.c.i.l.s.Slf4jLog [main] Schema `book` is up to date. No migration necessary.
2024-12-27 16:32:36,160 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-27 16:32:36,351 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.6.2.Final
2024-12-27 16:32:36,458 INFO o.h.c.i.RegionFactoryInitiator [main] HHH000026: Second-level cache disabled
2024-12-27 16:32:36,763 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-27 16:32:36,926 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000025: MySQL8Dialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-27 16:32:36,929 WARN o.h.e.j.d.i.DialectFactoryImpl [main] HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2024-12-27 16:32:37,183 INFO o.h.e.j.e.i.JdbcEnvironmentInitiator [main] HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2024-12-27 16:32:49,373 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-27 16:32:49,526 INFO o.s.o.j.AbstractEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 16:32:50,287 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Initializing JpaMetamodelMappingContext…
2024-12-27 16:32:50,325 DEBUG o.s.d.j.r.c.JpaMetamodelMappingContextFactoryBean [main] Finished initializing JpaMetamodelMappingContext
2024-12-27 16:32:50,714 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Initializing repository instance for com.example.book.repository.BookRepo…
2024-12-27 16:32:50,852 DEBUG o.s.d.j.r.q.NamedQuery [main] Did not find named query Book.deleteByAutherId.count
2024-12-27 16:32:50,892 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-27 16:32:51,702 DEBUG o.s.d.r.c.s.RepositoryFactorySupport [main] Finished creation of repository instance for com.example.book.repository.BookRepo.
2024-12-27 16:32:53,131 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-27 16:32:56,251 INFO o.s.b.a.e.w.EndpointLinksResolver [main] Exposing 16 endpoints beneath base path '/actuator'
2024-12-27 16:32:56,441 INFO o.s.b.StartupInfoLogger [main] Started AutherServiceTest in 32.313 seconds (process running for 35.476)
2024-12-27 16:32:56,677 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findAll()
2024-12-27 16:32:56,723 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.insertAll(..)
2024-12-27 16:32:56,724 INFO c.e.b.a.LoggingAspect [main] ===> argument >> [com.example.book.entity.Auther@38ab2740, com.example.book.entity.Auther@4463d9b7, com.example.book.entity.Auther@5c991516]
2024-12-27 16:32:57,043 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> BookRepo.findAll()
2024-12-27 16:32:57,252 DEBUG o.h.e.j.s.SqlStatementLogger [main] 
    select
        b1_0.id,
        b1_0.auther_id,
        a1_0.id,
        (select
            count(*) 
        from
            books book 
        where
            book.auther_id = a1_0.id),
        a1_0.created_by,
        a1_0.created_date,
        a1_0.email,
        a1_0.image_path,
        a1_0.ip_address,
        a1_0.last_modified_by,
        a1_0.last_modified_date,
        a1_0.name,
        a1_0.status,
        (select
            count(*) 
        from
            books),
        b1_0.created_by,
        b1_0.created_date,
        b1_0.last_modified_by,
        b1_0.last_modified_date,
        b1_0.name,
        b1_0.price,
        b1_0.status 
    from
        books b1_0 
    join
        authers a1_0 
            on a1_0.id=b1_0.auther_id
2024-12-27 16:32:57,552 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findByEmail(..)
2024-12-27 16:32:57,554 INFO c.e.b.a.LoggingAspect [main] ===> argument >> eljoker@gmail.com
2024-12-27 16:32:57,615 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-1] ====> Method Name is >> PriceSchedule.computePrice()
2024-12-27 16:32:57,616 INFO c.e.b.a.LoggingAspect [ThreadPoolTaskExecutor-2] ====> Method Name is >> PriceSchedule.computeDiscount()
2024-12-27 16:32:57,637 INFO c.e.b.a.LoggingAspect [main] ====> Method Name is >> AutherService.findByEmail(..)
2024-12-27 16:32:57,638 INFO c.e.b.a.LoggingAspect [main] ===> argument >> email@gmail
2024-12-27 16:32:57,686 INFO o.s.o.j.AbstractEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-27 16:32:57,696 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2024-12-27 16:32:57,723 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
